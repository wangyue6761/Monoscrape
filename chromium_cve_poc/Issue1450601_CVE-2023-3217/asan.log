==4004==ERROR: AddressSanitizer: heap-use-after-free on address 0x11acb74da9e8 at pc 0x7ffcc70a5de7 bp 0x00601f9fee00 sp 0x00601f9fee48
READ of size 8 at 0x11acb74da9e8 thread T64
    #0 0x7ffcc70a5de6 in device::OpenXrApiWrapper::InitSession C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_api_wrapper.cc:517
    #1 0x7ffcca7fb21a in device::OpenXrRenderLoop::StartRuntime C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_render_loop.cc:161
    #2 0x7ffcca8092b1 in device::XRCompositorCommon::RequestSession C:\b\s\w\ir\cache\builder\src\device\vr\windows\compositor_base.cc:241
    #3 0x7ffcc709fddb in base::internal::Invoker<base::internal::BindState<void (device::XRCompositorCommon::*)(base::RepeatingCallback<void (device::mojom::XRVisibilityState)>, mojo::StructPtr<device::mojom::XRRuntimeSessionOptions>, base::OnceCallback<void (bool, mojo::StructPtr<device::mojom::XRSession>)>),base::internal::UnretainedWrapper<device::OpenXrRenderLoop,base::unretained_traits::MayNotDangle,0>,base::RepeatingCallback<void (device::mojom::XRVisibilityState)>,mojo::StructPtr<device::mojom::XRRuntimeSessionOptions>,base::OnceCallback<void (bool, mojo::StructPtr<device::mojom::XRSession>)> >,void ()>::RunOnce C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:976
    #4 0x7ffcc44513c6 in base::TaskAnnotator::RunTaskImpl C:\b\s\w\ir\cache\builder\src\base\task\common\task_annotator.cc:186
    #5 0x7ffcc7a737e2 in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:486
    #6 0x7ffcc7a7255f in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:351
    #7 0x7ffcc7aa7143 in base::MessagePumpDefault::Run C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_default.cc:40
    #8 0x7ffcc7a75ecf in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:651
    #9 0x7ffcc44bbbf7 in base::RunLoop::Run C:\b\s\w\ir\cache\builder\src\base\run_loop.cc:134
    #10 0x7ffcc4414e7d in base::Thread::Run C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:342
    #11 0x7ffcc441534e in base::Thread::ThreadMain C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:414
    #12 0x7ffcc436c7b1 in base::`anonymous namespace'::ThreadFunc C:\b\s\w\ir\cache\builder\src\base\threading\platform_thread_win.cc:133
    #13 0x7ff60ad05cf5 in __asan::AsanThread::ThreadStart C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_thread.cpp:291
    #14 0x7ffd33a37603 in BaseThreadInitThunk+0x13 (C:\WINDOWS\System32\KERNEL32.DLL+0x180017603)
    #15 0x7ffd359626a0 in RtlUserThreadStart+0x20 (C:\WINDOWS\SYSTEM32\ntdll.dll+0x1800526a0)

0x11acb74da9e8 is located 136 bytes inside of 144-byte region [0x11acb74da960,0x11acb74da9f0)
freed by thread T53 here:
    #0 0x7ff60ad0f23d in free C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_malloc_win.cpp:82
    #1 0x7ffcc709b306 in device::OpenXrDevice::RequestSession C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_device.cc:151
    #2 0x7ffcc62e1743 in device::mojom::XRRuntimeStubDispatch::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.cc:1276
    #3 0x7ffcc6578596 in device::mojom::XRRuntimeStub<mojo::RawPtrImplRefTraits<device::mojom::XRRuntime> >::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.h:803
    #4 0x7ffcc4bbafaf in mojo::InterfaceEndpointClient::HandleValidatedMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:970
    #5 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #6 0x7ffcc4bc0ab1 in mojo::InterfaceEndpointClient::HandleIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:701
    #7 0x7ffcc4bacc58 in mojo::internal::MultiplexRouter::ProcessIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:1096
    #8 0x7ffcc4baba42 in mojo::internal::MultiplexRouter::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:710
    #9 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #10 0x7ffcc4bd1459 in mojo::Connector::DispatchMessageW C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:561
    #11 0x7ffcc4bd2e5d in mojo::Connector::ReadAllAvailableMessages C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:618
    #12 0x7ffcc4bd290d in mojo::Connector::OnWatcherHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:417
    #13 0x7ffcc4bd4ea0 in base::internal::Invoker<base::internal::BindState<void (mojo::Connector::*)(const char *, unsigned int),base::internal::UnretainedWrapper<mojo::Connector,base::unretained_traits::MayNotDangle,0>,base::internal::UnretainedWrapper<const char,base::unretained_traits::MayNotDangle,0> >,void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #14 0x7ffcba3f6e93 in base::RepeatingCallback<void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #15 0x7ffcba3f6c9a in base::internal::Invoker<base::internal::BindState<void (*)(const base::RepeatingCallback<void (unsigned int)> &, unsigned int, const mojo::HandleSignalsState &),base::RepeatingCallback<void (unsigned int)> >,void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #16 0x7ffcc4c00c96 in base::RepeatingCallback<void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #17 0x7ffcc4c002af in mojo::SimpleWatcher::OnHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:278
    #18 0x7ffcc4c0166c in base::internal::Invoker<base::internal::BindState<void (mojo::SimpleWatcher::*)(int, unsigned int, const mojo::HandleSignalsState &),base::WeakPtr<mojo::SimpleWatcher>,int,unsigned int,mojo::HandleSignalsState>,void ()>::RunOnce C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:976
    #19 0x7ffcc44513c6 in base::TaskAnnotator::RunTaskImpl C:\b\s\w\ir\cache\builder\src\base\task\common\task_annotator.cc:186
    #20 0x7ffcc7a737e2 in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:486
    #21 0x7ffcc7a7255f in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:351
    #22 0x7ffcc7aa7143 in base::MessagePumpDefault::Run C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_default.cc:40
    #23 0x7ffcc7a75ecf in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:651
    #24 0x7ffcc44bbbf7 in base::RunLoop::Run C:\b\s\w\ir\cache\builder\src\base\run_loop.cc:134
    #25 0x7ffcc4414e7d in base::Thread::Run C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:342
    #26 0x7ffcc441534e in base::Thread::ThreadMain C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:414
    #27 0x7ffcc436c7b1 in base::`anonymous namespace'::ThreadFunc C:\b\s\w\ir\cache\builder\src\base\threading\platform_thread_win.cc:133

previously allocated by thread T53 here:
    #0 0x7ff60ad0f33d in malloc C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_malloc_win.cpp:98
    #1 0x7ffcda0998de in operator new D:\a\_work\1\s\src\vctools\crt\vcstartup\src\heap\new_scalar.cpp:35
    #2 0x7ffcc709b2bd in device::OpenXrDevice::RequestSession C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_device.cc:151
    #3 0x7ffcc62e1743 in device::mojom::XRRuntimeStubDispatch::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.cc:1276
    #4 0x7ffcc6578596 in device::mojom::XRRuntimeStub<mojo::RawPtrImplRefTraits<device::mojom::XRRuntime> >::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.h:803
    #5 0x7ffcc4bbafaf in mojo::InterfaceEndpointClient::HandleValidatedMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:970
    #6 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #7 0x7ffcc4bc0ab1 in mojo::InterfaceEndpointClient::HandleIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:701
    #8 0x7ffcc4bacc58 in mojo::internal::MultiplexRouter::ProcessIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:1096
    #9 0x7ffcc4baba42 in mojo::internal::MultiplexRouter::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:710
    #10 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #11 0x7ffcc4bd1459 in mojo::Connector::DispatchMessageW C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:561
    #12 0x7ffcc4bd2e5d in mojo::Connector::ReadAllAvailableMessages C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:618
    #13 0x7ffcc4bd290d in mojo::Connector::OnWatcherHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:417
    #14 0x7ffcc4bd4ea0 in base::internal::Invoker<base::internal::BindState<void (mojo::Connector::*)(const char *, unsigned int),base::internal::UnretainedWrapper<mojo::Connector,base::unretained_traits::MayNotDangle,0>,base::internal::UnretainedWrapper<const char,base::unretained_traits::MayNotDangle,0> >,void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #15 0x7ffcba3f6e93 in base::RepeatingCallback<void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #16 0x7ffcba3f6c9a in base::internal::Invoker<base::internal::BindState<void (*)(const base::RepeatingCallback<void (unsigned int)> &, unsigned int, const mojo::HandleSignalsState &),base::RepeatingCallback<void (unsigned int)> >,void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #17 0x7ffcc4c00c96 in base::RepeatingCallback<void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #18 0x7ffcc4c002af in mojo::SimpleWatcher::OnHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:278
    #19 0x7ffcc4c0166c in base::internal::Invoker<base::internal::BindState<void (mojo::SimpleWatcher::*)(int, unsigned int, const mojo::HandleSignalsState &),base::WeakPtr<mojo::SimpleWatcher>,int,unsigned int,mojo::HandleSignalsState>,void ()>::RunOnce C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:976
    #20 0x7ffcc44513c6 in base::TaskAnnotator::RunTaskImpl C:\b\s\w\ir\cache\builder\src\base\task\common\task_annotator.cc:186
    #21 0x7ffcc7a737e2 in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:486
    #22 0x7ffcc7a7255f in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:351
    #23 0x7ffcc7aa7143 in base::MessagePumpDefault::Run C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_default.cc:40
    #24 0x7ffcc7a75ecf in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:651
    #25 0x7ffcc44bbbf7 in base::RunLoop::Run C:\b\s\w\ir\cache\builder\src\base\run_loop.cc:134
    #26 0x7ffcc4414e7d in base::Thread::Run C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:342
    #27 0x7ffcc441534e in base::Thread::ThreadMain C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:414

Thread T64 created by T53 here:
    #0 0x7ff60ad04832 in __asan_wrap_CreateThread C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_win.cpp:146
    #1 0x7ffcc436b5df in base::`anonymous namespace'::CreateThreadInternal C:\b\s\w\ir\cache\builder\src\base\threading\platform_thread_win.cc:198
    #2 0x7ffcc4414001 in base::Thread::StartWithOptions C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:215
    #3 0x7ffcc4413709 in base::Thread::Start C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:171
    #4 0x7ffcc709b4be in device::OpenXrDevice::RequestSession C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_device.cc:167
    #5 0x7ffcc62e1743 in device::mojom::XRRuntimeStubDispatch::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.cc:1276
    #6 0x7ffcc6578596 in device::mojom::XRRuntimeStub<mojo::RawPtrImplRefTraits<device::mojom::XRRuntime> >::AcceptWithResponder C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\device\vr\public\mojom\isolated_xr_service.mojom.h:803
    #7 0x7ffcc4bbafaf in mojo::InterfaceEndpointClient::HandleValidatedMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:970
    #8 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #9 0x7ffcc4bc0ab1 in mojo::InterfaceEndpointClient::HandleIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:701
    #10 0x7ffcc4bacc58 in mojo::internal::MultiplexRouter::ProcessIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:1096
    #11 0x7ffcc4baba42 in mojo::internal::MultiplexRouter::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:710
    #12 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #13 0x7ffcc4bd1459 in mojo::Connector::DispatchMessageW C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:561
    #14 0x7ffcc4bd2e5d in mojo::Connector::ReadAllAvailableMessages C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:618
    #15 0x7ffcc4bd290d in mojo::Connector::OnWatcherHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:417
    #16 0x7ffcc4bd4ea0 in base::internal::Invoker<base::internal::BindState<void (mojo::Connector::*)(const char *, unsigned int),base::internal::UnretainedWrapper<mojo::Connector,base::unretained_traits::MayNotDangle,0>,base::internal::UnretainedWrapper<const char,base::unretained_traits::MayNotDangle,0> >,void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #17 0x7ffcba3f6e93 in base::RepeatingCallback<void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #18 0x7ffcba3f6c9a in base::internal::Invoker<base::internal::BindState<void (*)(const base::RepeatingCallback<void (unsigned int)> &, unsigned int, const mojo::HandleSignalsState &),base::RepeatingCallback<void (unsigned int)> >,void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #19 0x7ffcc4c00c96 in base::RepeatingCallback<void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #20 0x7ffcc4c002af in mojo::SimpleWatcher::OnHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:278
    #21 0x7ffcc4c0166c in base::internal::Invoker<base::internal::BindState<void (mojo::SimpleWatcher::*)(int, unsigned int, const mojo::HandleSignalsState &),base::WeakPtr<mojo::SimpleWatcher>,int,unsigned int,mojo::HandleSignalsState>,void ()>::RunOnce C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:976
    #22 0x7ffcc44513c6 in base::TaskAnnotator::RunTaskImpl C:\b\s\w\ir\cache\builder\src\base\task\common\task_annotator.cc:186
    #23 0x7ffcc7a737e2 in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:486
    #24 0x7ffcc7a7255f in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:351
    #25 0x7ffcc7aa7143 in base::MessagePumpDefault::Run C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_default.cc:40
    #26 0x7ffcc7a75ecf in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:651
    #27 0x7ffcc44bbbf7 in base::RunLoop::Run C:\b\s\w\ir\cache\builder\src\base\run_loop.cc:134
    #28 0x7ffcc4414e7d in base::Thread::Run C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:342
    #29 0x7ffcc441534e in base::Thread::ThreadMain C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:414
    #30 0x7ffcc436c7b1 in base::`anonymous namespace'::ThreadFunc C:\b\s\w\ir\cache\builder\src\base\threading\platform_thread_win.cc:133
    #31 0x7ff60ad05cf5 in __asan::AsanThread::ThreadStart C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_thread.cpp:291
    #32 0x7ffd33a37603 in BaseThreadInitThunk+0x13 (C:\WINDOWS\System32\KERNEL32.DLL+0x180017603)
    #33 0x7ffd359626a0 in RtlUserThreadStart+0x20 (C:\WINDOWS\SYSTEM32\ntdll.dll+0x1800526a0)

Thread T53 created by T0 here:
    #0 0x7ff60ad04832 in __asan_wrap_CreateThread C:\b\s\w\ir\cache\builder\src\third_party\llvm\compiler-rt\lib\asan\asan_win.cpp:146
    #1 0x7ffcc436b5df in base::`anonymous namespace'::CreateThreadInternal C:\b\s\w\ir\cache\builder\src\base\threading\platform_thread_win.cc:198
    #2 0x7ffcc4414001 in base::Thread::StartWithOptions C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:215
    #3 0x7ffcc4413709 in base::Thread::Start C:\b\s\w\ir\cache\builder\src\base\threading\thread.cc:171
    #4 0x7ffcbf9b5050 in content::UtilityProcessHost::StartProcess C:\b\s\w\ir\cache\builder\src\content\browser\utility_process_host.cc:249
    #5 0x7ffcbf67855f in content::`anonymous namespace'::LaunchServiceProcess C:\b\s\w\ir\cache\builder\src\content\browser\service_process_host_impl.cc:211
    #6 0x7ffcbf677ac7 in content::ServiceProcessHost::Launch C:\b\s\w\ir\cache\builder\src\content\browser\service_process_host_impl.cc:238
    #7 0x7ffcbfe0e641 in content::ServiceProcessHost::Launch<device::mojom::XRDeviceService> C:\b\s\w\ir\cache\builder\src\content\public\browser\service_process_host.h:177
    #8 0x7ffcbfe0e2ce in content::GetXRDeviceService C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\xr_device_service.cc:49
    #9 0x7ffcbfde2d79 in content::IsolatedVRDeviceProvider::SetupDeviceProvider C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\isolated_device_provider.cc:90
    #10 0x7ffcbfe176e6 in content::XRRuntimeManagerImpl::InitializeProviders C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\xr_runtime_manager_impl.cc:486
    #11 0x7ffcbfe173ce in content::XRRuntimeManagerImpl::AddService C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\xr_runtime_manager_impl.cc:177
    #12 0x7ffcbfdf9c2f in content::VRServiceImpl::VRServiceImpl C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\vr_service_impl.cc:177
    #13 0x7ffcbfdfa7c3 in content::VRServiceImpl::Create C:\b\s\w\ir\cache\builder\src\content\browser\xr\service\vr_service_impl.cc:210
    #14 0x7ffcbe403276 in base::internal::Invoker<base::internal::BindState<void (*)(content::RenderFrameHost *, mojo::PendingReceiver<blink::mojom::BackgroundFetchService>)>,void (content::RenderFrameHost *, mojo::PendingReceiver<blink::mojom::BackgroundFetchService>)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #15 0x7ffcbe403aaa in base::RepeatingCallback<void (content::RenderFrameHost *, mojo::PendingReceiver<blink::mojom::NoStatePrefetchProcessor>)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #16 0x7ffcbe40367e in mojo::internal::BinderContextTraits<const content::ServiceWorkerVersionBaseInfo &>::BindGenericReceiver<blink::mojom::CookieStore> C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\binder_map_internal.h:40
    #17 0x7ffcbe403881 in base::internal::Invoker<base::internal::BindState<void (*)(const base::RepeatingCallback<void (const content::ServiceWorkerVersionBaseInfo &, mojo::PendingReceiver<blink::mojom::PermissionService>)> &, const content::ServiceWorkerVersionBaseInfo &, mojo::ScopedHandleBase<mojo::MessagePipeHandle>),base::RepeatingCallback<void (const content::ServiceWorkerVersionBaseInfo &, mojo::PendingReceiver<blink::mojom::PermissionService>)> >,void (const content::ServiceWorkerVersionBaseInfo &, mojo::ScopedHandleBase<mojo::MessagePipeHandle>)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #18 0x7ffcbf4c51ee in base::RepeatingCallback<void (content::RenderFrameHost *, mojo::ScopedHandleBase<mojo::MessagePipeHandle>)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #19 0x7ffcbf4c4d49 in mojo::internal::GenericCallbackBinderWithContext<content::RenderFrameHost *>::RunCallbackWithContext C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\binder_map_internal.h:121
    #20 0x7ffcbf4c48e5 in mojo::internal::GenericCallbackBinderWithContext<content::RenderFrameHost *>::BindInterface C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\binder_map_internal.h:102
    #21 0x7ffcbf4c4301 in mojo::BinderMapWithContext<content::RenderFrameHost *>::TryBind C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\binder_map.h:111
    #22 0x7ffcbf4c3fcb in content::BrowserInterfaceBrokerImpl<content::RenderFrameHostImpl,content::RenderFrameHost *>::BindInterface C:\b\s\w\ir\cache\builder\src\content\browser\browser_interface_broker_impl.h:88
    #23 0x7ffcbf4c3ad7 in content::BrowserInterfaceBrokerImpl<content::RenderFrameHostImpl,content::RenderFrameHost *>::GetInterface C:\b\s\w\ir\cache\builder\src\content\browser\browser_interface_broker_impl.h:60
    #24 0x7ffcb9fe7def in blink::mojom::BrowserInterfaceBrokerStubDispatch::Accept C:\b\s\w\ir\cache\builder\src\out\Release_x64\gen\third_party\blink\public\mojom\browser_interface_broker.mojom.cc:182
    #25 0x7ffcc4bbb018 in mojo::InterfaceEndpointClient::HandleValidatedMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:1016
    #26 0x7ffcc7f62b8f in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:48
    #27 0x7ffcc4bc0ab1 in mojo::InterfaceEndpointClient::HandleIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\interface_endpoint_client.cc:701
    #28 0x7ffcc4bacc58 in mojo::internal::MultiplexRouter::ProcessIncomingMessage C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:1096
    #29 0x7ffcc4baba42 in mojo::internal::MultiplexRouter::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\multiplex_router.cc:710
    #30 0x7ffcc7f62cba in mojo::MessageDispatcher::Accept C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\message_dispatcher.cc:43
    #31 0x7ffcc4bd1459 in mojo::Connector::DispatchMessageW C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:561
    #32 0x7ffcc4bd2e5d in mojo::Connector::ReadAllAvailableMessages C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:618
    #33 0x7ffcc4bd290d in mojo::Connector::OnWatcherHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\bindings\lib\connector.cc:417
    #34 0x7ffcc4bd4ea0 in base::internal::Invoker<base::internal::BindState<void (mojo::Connector::*)(const char *, unsigned int),base::internal::UnretainedWrapper<mojo::Connector,base::unretained_traits::MayNotDangle,0>,base::internal::UnretainedWrapper<const char,base::unretained_traits::MayNotDangle,0> >,void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #35 0x7ffcba3f6e93 in base::RepeatingCallback<void (unsigned int)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #36 0x7ffcba3f6c9a in base::internal::Invoker<base::internal::BindState<void (*)(const base::RepeatingCallback<void (unsigned int)> &, unsigned int, const mojo::HandleSignalsState &),base::RepeatingCallback<void (unsigned int)> >,void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:989
    #37 0x7ffcc4c00c96 in base::RepeatingCallback<void (unsigned int, const mojo::HandleSignalsState &)>::Run C:\b\s\w\ir\cache\builder\src\base\functional\callback.h:333
    #38 0x7ffcc4c002af in mojo::SimpleWatcher::OnHandleReady C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:278
    #39 0x7ffcc4c0166c in base::internal::Invoker<base::internal::BindState<void (mojo::SimpleWatcher::*)(int, unsigned int, const mojo::HandleSignalsState &),base::WeakPtr<mojo::SimpleWatcher>,int,unsigned int,mojo::HandleSignalsState>,void ()>::RunOnce C:\b\s\w\ir\cache\builder\src\base\functional\bind_internal.h:976
    #40 0x7ffcc44513c6 in base::TaskAnnotator::RunTaskImpl C:\b\s\w\ir\cache\builder\src\base\task\common\task_annotator.cc:186
    #41 0x7ffcc7a737e2 in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWorkImpl C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:486
    #42 0x7ffcc7a7255f in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::DoWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:351
    #43 0x7ffcc438e860 in base::MessagePumpForUI::DoRunLoop C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_win.cc:211
    #44 0x7ffcc438c2e6 in base::MessagePumpWin::Run C:\b\s\w\ir\cache\builder\src\base\message_loop\message_pump_win.cc:77
    #45 0x7ffcc7a75ecf in base::sequence_manager::internal::ThreadControllerWithMessagePumpImpl::Run C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_with_message_pump_impl.cc:651
    #46 0x7ffcc44bbbf7 in base::RunLoop::Run C:\b\s\w\ir\cache\builder\src\base\run_loop.cc:134
    #47 0x7ffcbe41422b in content::BrowserMainLoop::RunMainMessageLoop C:\b\s\w\ir\cache\builder\src\content\browser\browser_main_loop.cc:1067
    #48 0x7ffcbe41b437 in content::BrowserMainRunnerImpl::Run C:\b\s\w\ir\cache\builder\src\content\browser\browser_main_runner_impl.cc:158
    #49 0x7ffcbe40bea2 in content::BrowserMain C:\b\s\w\ir\cache\builder\src\content\browser\browser_main.cc:34
    #50 0x7ffcc2bb8311 in content::RunBrowserProcessMain C:\b\s\w\ir\cache\builder\src\content\app\content_main_runner_impl.cc:707
    #51 0x7ffcc2bbc3cd in content::ContentMainRunnerImpl::RunBrowser C:\b\s\w\ir\cache\builder\src\content\app\content_main_runner_impl.cc:1284
    #52 0x7ffcc2bbbb17 in content::ContentMainRunnerImpl::Run C:\b\s\w\ir\cache\builder\src\content\app\content_main_runner_impl.cc:1138
    #53 0x7ffcc2bb640b in content::RunContentProcess C:\b\s\w\ir\cache\builder\src\content\app\content_main.cc:326
    #54 0x7ffcc2bb7115 in content::ContentMain C:\b\s\w\ir\cache\builder\src\content\app\content_main.cc:343
    #55 0x7ffcb68c171d in ChromeMain C:\b\s\w\ir\cache\builder\src\chrome\app\chrome_main.cc:187
    #56 0x7ff60ac563e4 in MainDllLoader::Launch C:\b\s\w\ir\cache\builder\src\chrome\app\main_dll_loader_win.cc:166
    #57 0x7ff60ac52bd8 in main C:\b\s\w\ir\cache\builder\src\chrome\app\chrome_exe_main_win.cc:390
    #58 0x7ff60b08204b in __scrt_common_main_seh D:\a\_work\1\s\src\vctools\crt\vcstartup\src\startup\exe_common.inl:288
    #59 0x7ffd33a37603 in BaseThreadInitThunk+0x13 (C:\WINDOWS\System32\KERNEL32.DLL+0x180017603)
    #60 0x7ffd359626a0 in RtlUserThreadStart+0x20 (C:\WINDOWS\SYSTEM32\ntdll.dll+0x1800526a0)

SUMMARY: AddressSanitizer: heap-use-after-free C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_api_wrapper.cc:517 in device::OpenXrApiWrapper::InitSession
Shadow bytes around the buggy address:
  0x11acb74da700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x11acb74da780: fa fa fa fa fa fa f7 fa 00 00 00 00 00 00 00 00
  0x11acb74da800: 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa
  0x11acb74da880: f7 fa fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x11acb74da900: fd fd fd fd fa fa fa fa fa fa f7 fa fd fd fd fd
=>0x11acb74da980: fd fd fd fd fd fd fd fd fd fd fd fd fd[fd]fa fa
  0x11acb74daa00: fa fa fa fa f7 fa fd fd fd fd fd fd fd fd fd fd
  0x11acb74daa80: fd fd fd fd fd fd fd fd fa fa fa fa fa fa f7 fa
  0x11acb74dab00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  0x11acb74dab80: fd fd fa fa fa fa fa fa f7 fa fd fd fd fd fd fd
  0x11acb74dac00: fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb

==4004==ADDITIONAL INFO

==4004==Note: Please include this section with the ASan report.
Task trace:
    #0 0x7ffcc709bc39 in device::OpenXrDevice::RequestSession C:\b\s\w\ir\cache\builder\src\device\vr\openxr\openxr_device.cc:193
    #1 0x7ffcc4c01125 in mojo::SimpleWatcher::Context::Notify C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:102
    #2 0x7ffcc4c01125 in mojo::SimpleWatcher::Context::Notify C:\b\s\w\ir\cache\builder\src\mojo\public\cpp\system\simple_watcher.cc:102
    #3 0x7ffcc7a6d5d6 in base::sequence_manager::internal::ThreadControllerImpl::ScheduleWork C:\b\s\w\ir\cache\builder\src\base\task\sequence_manager\thread_controller_impl.cc:93


MiraclePtr Status: NOT PROTECTED
No raw_ptr<T> access to this region was detected prior to this crash.
This crash is still exploitable with MiraclePtr.
Refer to https://chromium.googlesource.com/chromium/src/+/main/base/memory/raw_ptr.md for details.

==4004==END OF ADDITIONAL INFO
==4004==ABORTING
